{"version":3,"sources":["Components/Filter.js","Components/Person.js","Components/PersonForm.js","Services/Persons.js","App.js","index.js"],"names":["Filter","filterName","setFilterName","value","onChange","event","target","Person","person","removePerson","name","number","onClick","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","p","delete","App","useState","persons","setPersons","setNewName","setNewNumber","useEffect","personService","initialPersons","personsToShow","filter","includes","preventDefault","personObject","exists","length","window","confirm","oldPerson","changedPerson","returnedPerson","map","concat","key","returnedPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.974592dd.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ filterName, setFilterName }) => {\r\n  const handleFilterChange = (event) => {\r\n    setFilterName(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      filter shown with{\" \"}\r\n      <input value={filterName} onChange={handleFilterChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst Person = ({ person , removePerson}) => (\r\n  <div>\r\n      <div>\r\n        {person.name} {person.number}\r\n        <button onClick={removePerson}>delete</button>\r\n      </div>\r\n  </div>\r\n);\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  addPerson,\r\n  newName,\r\n  handleNameChange,\r\n  newNumber,\r\n  handleNumberChange,\r\n}) => (\r\n  <form onSubmit={addPerson}>\r\n    <div>\r\n      <h2>add a new</h2>\r\n      name: <input value={newName} onChange={handleNameChange} />\r\n    </div>\r\n\r\n    <div>\r\n      number: <input value={newNumber} onChange={handleNumberChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default PersonForm;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons/\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => {\r\n    return response.data;\r\n  });\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (p) => {\r\n  const request = axios.delete(`${baseUrl}/${p}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./Components/Filter\";\r\nimport Person from \"./Components/Person\";\r\nimport PersonForm from \"./Components/PersonForm\";\r\nimport personService from \"./Services/Persons\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [filterName, setFilterName] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then((initialPersons) => {\r\n      setPersons(initialPersons);\r\n    });\r\n  }, []);\r\n\r\n  const personsToShow = persons.filter((person) =>\r\n    person.name.includes(filterName)\r\n  );\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    };\r\n\r\n    const exists = persons.filter((person) => person.name === newName);\r\n    if (!exists.length) {\r\n      personService.create(personObject).then((returnedPerson) => {\r\n        setPersons(persons.concat(returnedPerson));\r\n      });\r\n    } else {\r\n      const replaceOld = window.confirm(\r\n        `${newName} is already added to phonebook, replace the old number with a new one?`\r\n      );\r\n      if (replaceOld) {\r\n        const oldPerson = exists[0];\r\n        const changedPerson = { ...oldPerson, number: newNumber };\r\n        personService\r\n          .update(oldPerson.id, changedPerson)\r\n          .then((returnedPerson) => {\r\n            setPersons(\r\n              persons.map((person) =>\r\n                person.id !== oldPerson.id ? person : returnedPerson\r\n              )\r\n            );\r\n          });\r\n      }\r\n    }\r\n\r\n    setNewName(\"\");\r\n    setNewNumber(\"\");\r\n  };\r\n\r\n  const handleNameChange = (event) => setNewName(event.target.value);\r\n\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value);\r\n\r\n  const removePerson = (personObject) => {\r\n    personService.remove(personObject).then((returnedPersons) => {\r\n      setPersons(persons);\r\n      personService.getAll().then((initialPersons) => {\r\n        setPersons(initialPersons);\r\n      });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Filter filterName={filterName} setFilterName={setFilterName} />\r\n      <PersonForm\r\n        addPerson={addPerson}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      {personsToShow.map((person) => (\r\n        <Person\r\n          key={person.id}\r\n          person={person}\r\n          removePerson={() => removePerson(person.id)}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}